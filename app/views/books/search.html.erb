<h3><%= "#{@search_word} の検索結果"%></h3>

<div id="box">
  <%= render 'book' %>
  <%= paginate @books, remote: true %>
</div>
<script>
var $container = $('#box');
$container.imagesLoaded(function(){
  $('#box').masonry({
    itemSelector: '.book',
    columnWidth: 220,
    isFitWidth: true,
    horizontalOrder: true,
    gutter: 5
  });
});
$("#box").infinitescroll({
    loading: {
      img:     "http://www.mytreedb.com/uploads/mytreedb/loader/ajax_loader_blue_48.gif",
      msgText: "loading..."
    },
    navSelector: "nav.pagination",
    nextSelector: "nav.pagination a[rel=next]",
    itemSelector: "div.page" /* このDOMに差し掛かった時に、次のページのロードが始まる*/
});
</script>
